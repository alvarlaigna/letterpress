<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8" />
  <title>Substance Letterpress</title>
  
  <!-- styles --> 
  <link href="stylesheets/reset.css" media="screen" rel="stylesheet" type="text/css" />
  <link href="stylesheets/app.css" media="screen" rel="stylesheet" type="text/css" />
  
  <script src="/javascripts/jquery-1.5.min.js"></script>
  <script>
    $(function() {
      function shortNameFromUrl(url) {
        function last(arr) { return arr[arr.length - 1]; }
        return last(url.replace(/\/$/, '').split('/')).replace(/[^A-Za-z0-9_]/g, '_');
      }
      
      $('#render_job').submit(function() {
        var shortname = shortNameFromUrl($('#document_url').val());
        var format = $('#format').val();
        var url = encodeURIComponent($('#document_url').val());
        window.location.href = "/"+shortname+"."+format+"?url="+url;
        return false;
      });
    });
  </script>
</head>

<body>
  <div id="container">
    <h1>Substance Letterpress</h1>
    <p>
      Letterpress is a service that converts Substance Documents to proper LaTeX/PDF/Markdown/HTML/&hellip;
    </p>
    
    <h2>Give it a spin</h2>
    <p>
      You can render any document that conforms to the Substance Document Format.
    </p>
    
    <form id="render_job" action="/render" method="get">
      <input type="url" class="url" id="document_url" name="url" value="http://substance.io/documents/substance/substance"/>
      <select id="format" name="format" class="format" size="1">
        <!-- most popular -->
        <option value="latex" selected="selected">LaTeX</option>
        <option value="pdf">PDF</option>
        <option value="markdown">Markdown</option>
        <option value="html">HTML</option>
        <option value="docx">DOCX</option>
        <option value="shower">Shower Slideshow</option>
        <!-- remaining, ordered alphabetically -->
        <option value="ctx">ConTeXt</option>
        <option value="db">DocBook</option>
        <option value="epub">EPUB</option>
        <option value="1">Man Page</option>
        <option value="mediawiki">MediaWiki</option>
        <option value="odt">ODT (OpenDocument Text)</option>
        <option value="org">Emacs Org-Mode</option>
        <option value="rst">reStructuredText</option>
        <option value="rtf">RTF (Rich Text Format)</option>
        <option value="s5">S5 Slideshow</option>
        <option value="texinfo">Texinfo</option>
        <option value="textile">Textile</option>
      </select>
      <input type="submit" value="Render" />
    </form>
  </div>
</body>

</html>
